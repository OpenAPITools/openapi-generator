dist: trusty
sudo: required
language: java
addons:
  apt:
    packages:
      - openjdk-6-jdk
jdk: openjdk6

cache:
  directories:
  - $HOME/.m2
  - $HOME/.ivy2
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/

services:
  - docker

before_install:
  # show host table to confirm petstore.swagger.io is mapped to localhost
  - cat /etc/hosts

install:
   - jdk_switcher use openjdk6 
   - java -version
   - curl -s "https://get.sdkman.io" | bash
   - source "$HOME/.sdkman/bin/sdkman-init.sh"
   - sdk version
   - sdk install gradle 2.9
   - sdk list gradle
   - sdk version

script:
  # fail fast
  #- set -e
  #- mvn --quiet clean install
  #- mvn --quiet verify -Psamples/client/petstore/java/jersey2-java6
  #- ./mvnw -f samples/client/petstore/java/jersey2-java6 test
  - cd samples/client/petstore/java/jersey2-java6
  - gradle wrapper --gradle-version 2.9
  - chmod +x gradlew
  - gradle test

