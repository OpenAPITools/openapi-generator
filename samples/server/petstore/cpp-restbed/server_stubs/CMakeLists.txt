
# The code for this library is in the 'generated' folder.
# It is generated by the `./bin/generate-samples.sh` in the root
# of the repository.



file(GLOB_RECURSE GENERATED_SOURCES
    LIST_DIRECTORIES false
    CONFIGURE_DEPENDS
    ${CMAKE_SOURCE_DIR}/generated/3_0/*.cpp)


set(GENERATED_SOURCES_INCLUDE_DIRS
    ${CMAKE_SOURCE_DIR}/generated/3_0/model
    ${CMAKE_SOURCE_DIR}/generated/3_0/
)

add_library(generated_restbed_stubs SHARED)

target_sources(generated_restbed_stubs
    PRIVATE
        ${GENERATED_SOURCES})

target_include_directories(generated_restbed_stubs
    PUBLIC
        ${GENERATED_SOURCES_INCLUDE_DIRS}
)


target_include_directories(generated_restbed_stubs
    SYSTEM PUBLIC
        ${restbed_SOURCE_DIR}/source)
target_link_libraries(generated_restbed_stubs
    PUBLIC
        Boost::system
        restbed-shared
        -lpthread)