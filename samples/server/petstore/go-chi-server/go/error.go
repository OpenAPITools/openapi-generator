/*
 * OpenAPI Petstore
 *
 * This is a sample server Petstore server. For this sample, you can use the api key `special-key` to test the authorization filters.
 *
 * API version: 1.0.0
 * Generated by: OpenAPI Generator (https://openapi-generator.tech)
 */

package petstoreserver

import (
	"net/http"
)

type ParsingError struct {
	Err error
}

func (e *ParsingError) Unwrap() error {
	return e.Err
}

func (e *ParsingError) Error() string {
	return e.Err.Error()
}

type ErrorHandler func(w http.ResponseWriter, r *http.Request, err error, result ...*ImplResponse)

func DefaultErrorHandler(w http.ResponseWriter, r *http.Request, err error, result ...*ImplResponse) {
	if _, ok := err.(*ParsingError); ok {
		EncodeJSONResponse(err.Error(), func(i int) *int { return &i }(http.StatusBadRequest), map[string][]string{}, w)
	} else {
        EncodeJSONResponse(err.Error(), &result[0].Code, result[0].Headers, w)
	}
}
