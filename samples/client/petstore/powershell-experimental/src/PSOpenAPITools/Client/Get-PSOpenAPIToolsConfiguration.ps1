#
# OpenAPI Petstore
# This is a sample server Petstore server. For this sample, you can use the api key `special-key` to test the authorization filters.
# Version: 1.0.0
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

function Get-PSOpenAPIToolsConfiguration {

    $Configuration = $Script:Configuration

    #[CmdletBinding()]
    #Param($Resource, $AccessToken)

    #If ($Resource) {

    #    $AccessToken = $Script:OAuthCollection.RateLimitStatus |
    #                   Where-Object { $_.resource -eq "/$Resource" } |
    #                   Sort-Object @{expression="remaining";Descending=$true}, @{expression="reset";Ascending=$true} |
    #                   Select-Object -First 1 -Expand AccessToken

    #}

    #If ($AccessToken) {

    #    $OAuthSettings = $Script:OAuthCollection.Where({$_.AccessToken -eq $AccessToken}) | Select-Object -First 1

    #} Else {

    #    $OAuthSettings = $Script:OAuthCollection | Get-Random

    #}

    #If ($OAuthSettings) {
    #    Write-Verbose "Using AccessToken '$($OAuthSettings.AccessToken)'"
    #    $OAuthSettings = @{
    #        ApiKey = $OAuthSettings.ApiKey
    #        ApiSecret = $OAuthSettings.ApiSecret
    #        AccessToken = $OAuthSettings.AccessToken
    #        AccessTokenSecret = $OAuthSettings.AccessTokenSecret
    #    }
    #} Else {
    #    $OAuthSettings = $null
    #    Write-Warning "No OAuthSettings was found. Use 'Set-TwitterOAuthSettings' to set PSTwitterAPI ApiKey & Token."
    #}

    if ([string]::IsNullOrEmpty($Configuration["BaseUrl"])) {
        $Configuration["BaseUrl"] = "http://petstore.swagger.io/v2";
    }

    if (!$Configuration["ApiKey"]) {
        $Configuration["ApiKey"] = @{}
    }

    if (!$Configuration["ApiKeyPrefix"]) {
        $Configuration["ApiKeyPrefix"] = @{}
    }

    #if (!$Configuration["User-Agent"]) {
    #    $Configuration["User-Agent"] = "OpenAPI-Generator/0.1.2/powershell"
    #}

    Return $Configuration

}
