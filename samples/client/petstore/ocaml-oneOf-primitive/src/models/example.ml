(*
 * This file has been generated by the OCamlClientCodegen generator for openapi-generator.
 *
 * Generated by: https://openapi-generator.tech
 *
 *)

        type t =
            | OneOf0 of Child.t
            | OneOf1 of int32
        [@@deriving show, eq];;
        
        let to_yojson = function
            | OneOf0 v -> [%to_yojson: Child.t] v
            | OneOf1 v -> [%to_yojson: int32] v
        
        (* Manual implementations because the derived one encodes into a tuple list where the first element is the constructor name. *)
        
        let of_yojson json =
          [
            [%of_yojson: Child.t] json
              |> Stdlib.Result.to_option
              |> Stdlib.Option.map (fun v -> OneOf0 v);
            [%of_yojson: int32] json
              |> Stdlib.Result.to_option
              |> Stdlib.Option.map (fun v -> OneOf1 v);
                        ]
          |> Stdlib.List.filter_map (Fun.id)
          |> function
             | [t] -> Ok t
             | [] -> Error ("Failed to parse JSON " ^ Yojson.Safe.show json ^ " into a value of type Example.t")
             | ts -> let parsed_ts = ts
                         |> Stdlib.List.map show
                         |> Stdlib.String.concat " | "
                     in Error ("Failed to parse JSON " ^ Yojson.Safe.show json ^ " into a value of type Example.t: oneOf should only succeed on one parser, but the JSON was parsed into [" ^ parsed_ts ^ "]")


    

