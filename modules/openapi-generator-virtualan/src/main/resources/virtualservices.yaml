swagger: '2.0'
info:
  description: Virtual Service API
  version: 1.0.0
  title: Virtual Service API
basePath: /v1
schemes:
  - http
produces:
  - application/json
paths:
  /virtualservices:
    post:
      tags:
        - VirtualServices
      summary: Create Mock service data for the Virtual services
      description: Create Mock service data
      operationId: "createMockRequest"
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: VirtualServiceRequest
          description: Create Mock service data
          required: true
          schema:
            $ref: '#/definitions/VirtualServiceRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/VirtualServiceRequest'
        '400':
          description: Business Exception
          schema: 
            $ref: '#/definitions/VirtualServiceStatus'
        '500':
          description: Server Error
          schema: 
            $ref: '#/definitions/VirtualServiceStatus'
      security:
        - basicAuth: []
  /virtualservices/{id}:
    delete:
      tags:
        - VirtualServices
      summary: Delete Mock service data
      description: Delete Mock service data
      operationId: "deleteMockRequest"
      produces:
        - application/json
      parameters:
        - name: "id"
          in: "path"
          description: Mock Request Id
          required: true
          type: integer
      responses:
        '204':
          description: OK
        '400':
          description: Business Exception
        '500':
          description: Server Error
      security:
        - basicAuth: []        
securityDefinitions:
  basicAuth:
    description: HTTP Basic Authentication
    type: basic
definitions:
  VirtualServiceRequest:
    type: object
    required:
      - url
      - httpStatusCode
      - method
      - resource
    properties:
      id:
        type: integer
        format: int64
      operationId:
        type: string 
      httpStatusCode:
        type: string 
      url:
        type: string 
      method:
        type: string 
      input:
        type: string 
      output: 
        type: string 
      availableParams: 
        type: string
        items:
          $ref: "#/definitions/VirtualServiceKeyValue"
      excludeList: 
        type: string 
      resource: 
        type: string 
	  mockStatus:
			$ref: "#/definitions/VirtualServiceStatus"
  VirtualServiceStatus:
    type: object
    required:
      - code
    properties:
      code:
        type: string
      message:
        type: string  VirtualServiceKeyValue:
    type: object
    required:
      - key
      - value
    properties:
      key:
        type: string
      value:
        type: string