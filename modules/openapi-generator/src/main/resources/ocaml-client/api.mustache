{{>partial_header}}
{{#operations}}
{{#operation}}
{{#description}}
 * Schema {{{classname}}} : {{{description}}}
{{/description}}
{{/operation}}
{{/operations}}
 *)

{{#operations}}
{{#operation}}
let {{{operationId}}} {{^hasParams}}(){{/hasParams}}{{#allParams}}{{{paramName}}}{{#hasMore}} {{/hasMore}}{{/allParams}} =
    let open Lwt in
    let uri = Request.build_uri "{{{path}}}" in
    let headers = Request.default_headers in{{#headerParams}}
    let headers = Cohttp.Header.add{{#isContainer}}_multi{{/isContainer}} headers "{{baseName}}" ({{> to_string}}{{paramName}}) in{{/headerParams}}{{#pathParams}}
    let uri = Request.replace_path_param uri "{{{baseName}}}" ({{> to_string}}{{{paramName}}}) in{{/pathParams}}{{#queryParams}}
    let uri = Uri.add_query_param{{^isListContainer}}'{{/isListContainer}} uri ("{{{baseName}}}", {{> to_string}}{{{paramName}}}) in{{/queryParams}}{{#bodyParams}}
    let body = Request.write_json_body {{> to_json}} {{{paramName}}} in{{/bodyParams}}
    Cohttp_lwt_unix.Client.{{{httpMethod}}} uri ~headers {{#hasBodyParam}}~body {{/hasBodyParam}}>>= fun (_resp, body) ->
    Request.read_json_body{{#returnContainer}}_as_list{{#returnBaseType}}_of{{/returnBaseType}}{{/returnContainer}}{{^returnContainer}}{{#returnBaseType}}_as{{/returnBaseType}}{{/returnContainer}} {{#returnType}}({{> of_json}}){{/returnType}} body

{{/operation}}
{{/operations}}
