# NOTE: This file is auto generated by the openapi generator program.
# https://github.com/openapitools/openapi-generator
# Do not edit the class manually.

parameters:
    {{bundleAlias}}.serializer: '{{servicePackage}}\JmsSerializer'
    {{bundleAlias}}.validator:  '{{servicePackage}}\SymfonyValidator'

services:
    jms_serializer.json_deserialization_visitor: 
        class: 'JMS\Serializer\JsonDeserializationVisitor'
    {{servicePackage}}\StrictJsonDeserializationVisitorFactory:
        decorates: jms_serializer.json_deserialization_visitor
        arguments:
            - '@{{servicePackage}}\StrictJsonDeserializationVisitorFactory.inner'
        tags:
            - { name: jms_serializer.deserialization_visitor, format: json }
    {{bundleAlias}}.api.api_server:
        class: {{apiPackage}}\ApiServer

    {{bundleAlias}}.model.model_serializer:
        class: {{modelPackage}}\ModelSerializer

    {{bundleAlias}}.service.serializer:
        class: '%{{bundleAlias}}.serializer%'

    {{bundleAlias}}.service.validator:
        class: '%{{bundleAlias}}.validator%'
        arguments:
            - '@validator'

{{#apiInfo}}
{{#apis}}
{{#operations}}
    {{bundleAlias}}.controller.{{pathPrefix}}:
        class: {{controllerPackage}}\{{baseName}}Controller
        calls:
         - [setSerializer, ['@{{bundleAlias}}.service.serializer']]
         - [setValidator,  ['@{{bundleAlias}}.service.validator']]
         - [setApiServer,  ['@{{bundleAlias}}.api.api_server']]
        tags: ['controller.service_arguments']
        autowire: true

{{/operations}}
{{/apis}}
{{/apiInfo}}
