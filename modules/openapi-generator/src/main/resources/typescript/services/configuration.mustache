import type { AbstractHttpLibrary, AbstractMiddleware, AbstractServerConfiguration } from "./http";
import type { RequestContext } from "../http/http";
import type { AuthMethods, TokenProvider } from "../auth/auth";

export abstract class AbstractConfiguration {
    abstract get baseServer(): AbstractServerConfiguration;
    abstract get httpApi(): AbstractHttpLibrary;
    abstract get middleware(): AbstractMiddleware[];
    abstract get authMethods(): AuthMethods;
}

export abstract class AbstractAuthMethod {
    public abstract getName(): string;
    public abstract applySecurityAuthentication(context: RequestContext): void | Promise<void>;
};

export abstract class AbstractTokenProvider implements TokenProvider {
    public abstract getToken(): string | Promise<string>;
}
