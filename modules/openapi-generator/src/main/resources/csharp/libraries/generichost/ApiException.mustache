// <auto-generated>
{{>partial_header}}
{{#nrt}}
#nullable enable

{{/nrt}}
using System;
using System.IO;

namespace {{packageName}}.{{clientPackage}}
{
    /// <summary>
    /// API Exception
    /// </summary>
    {{>visibility}} class ApiException : Exception
    {
        /// <summary>
        /// The reason the api request failed
        /// </summary>
        public string{{nrt?}} ReasonPhrase { get; }

        /// <summary>
        /// The HttpStatusCode
        /// </summary>
        public System.Net.HttpStatusCode StatusCode { get; }

        /// <summary>
        /// The raw data returned by the api
        /// </summary>
        public string RawContent { get; }

        /// <summary>
        /// The HttpResponseMessage object
        /// </summary>
        public System.Net.Http.HttpResponseMessage{{#nrt}}?{{/nrt}} RawResponse { get; }
        
        /// <summary>
        /// Construct the ApiException from parts of the response
        /// </summary>
        /// <param name="reasonPhrase"></param>
        /// <param name="statusCode"></param>
        /// <param name="rawContent"></param>
        public ApiException(string{{nrt?}} reasonPhrase, System.Net.HttpStatusCode statusCode, string rawContent, System.Net.Http.HttpResponseMessage{{#nrt}}?{{/nrt}} rawResponse = null) : base(reasonPhrase ?? rawContent)
        {
            ReasonPhrase = reasonPhrase;

            StatusCode = statusCode;

            RawContent = rawContent;

            RawResponse = rawResponse;
        }
    }
}
