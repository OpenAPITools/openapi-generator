import (
    "encoding/json"
    "errors"
)

// {{classname}}{{#description}} {{{description}}}{{/description}}{{^description}} struct for {{{classname}}}{{/description}}
type {{classname}} struct {
    {{#oneOf}}
    {{{.}}} *{{{.}}}
    {{/oneOf}}
}

func (dst *{{classname}}) UnmarshalJSON(data []byte) error {
    var err error
    {{#oneOf}}
    err = json.Unmarshal(data, dst.{{{.}}});
    if err == nil {
        return nil
    } else {
        dst.{{{.}}} = nil
    }
    {{/oneOf}}
    return err
}

func (src *{{classname}}) MarshalJSON() ([]byte, error) {
{{#oneOf}}
    if src.{{{.}}} != nil {
        return json.Marshal(src.{{{.}}})
    }
{{/oneOf}}
    return nil, errors.New("No field set in {{classname}}")
}
