openapi: 3.0.2
info:
  title: Petstore - OpenAPI 3.0
  description: Specification to reproduce issues with mediatypes other than common application/json
  version: '1.0'
servers:
- url: http://localhost:8080/api/v3

paths:
  /same-return-type:
    get:
      tags:
      - test-controller
      operationId: operationWithSameReturnType
      responses:
        200:
          description: OK
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/ResponseObject'
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseObject'
            text/xml:
              schema:
                $ref: '#/components/schemas/ResponseObject'
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
  /different-return-type:
    get:
      tags:
      - test-controller
      operationId: operationWithDifferentReturnType
      responses:
        200:
          description: OK
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/ResponseObject'
            application/json:
              schema:
                type: string
            text/xml:
              schema:
                type: string
                format: binary
        401:
          description: Unauthorized
          content: { }
        403:
          description: Forbidden
          content: { }
        404:
          description: Not Found
          content: { }
  /single-return-type:
    get:
      tags:
      - test-controller
      operationId: operationWithSingleReturnType
      responses:
        200:
          description: OK
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/ResponseObject'
        401:
          description: Unauthorized
          content: { }
        403:
          description: Forbidden
          content: { }
        404:
          description: Not Found
          content: { }

components:
  schemas:
    ResponseObject:
      required:
      - name
      - photoUrls
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 10
          description: 'Id'
        status:
          type: string
          description: pet status in the store
          enum:
          - available
          - pending
          - sold
          example: available