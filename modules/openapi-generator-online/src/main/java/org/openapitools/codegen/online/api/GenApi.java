/*
 * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)
 * Copyright 2018 SmartBear Software
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech) (3.0.0-SNAPSHOT).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */
package org.openapitools.codegen.online.api;

import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.Parameter;
import io.swagger.v3.oas.annotations.media.Content;
import io.swagger.v3.oas.annotations.media.ExampleObject;
import io.swagger.v3.oas.annotations.media.Schema;
import io.swagger.v3.oas.annotations.parameters.RequestBody;
import io.swagger.v3.oas.annotations.responses.ApiResponse;
import io.swagger.v3.oas.annotations.responses.ApiResponses;
import io.swagger.v3.oas.annotations.tags.Tag;
import org.openapitools.codegen.CliOption;
import org.openapitools.codegen.online.model.GeneratorInput;
import org.openapitools.codegen.online.model.ResponseCode;
import org.springframework.core.io.Resource;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;

import jakarta.validation.Valid;
import java.util.List;
import java.util.Map;

@Tag(name = "clients", description = "Client generation APIs")
@Tag(name = "servers", description = "Server generation APIs")
public interface GenApi {
    GenApiDelegate getDelegate();

    @Operation(summary = "Gets languages supported by the client generator", operationId = "clientOptions", tags = {"clients"})
    @ApiResponses(value = {
            @ApiResponse(responseCode = "200", description = "successful operation")})
    @GetMapping("/gen/clients")
    default ResponseEntity<List<String>> clientOptions() {
        return getDelegate().clientOptions();
    }


    @Operation(summary = "Downloads a pre-generated file", operationId = "downloadFile", description = "A valid `fileId` is generated by the `/clients/{language}` or `/servers/{language}` POST operations.  The fileId code can be used just once, after which a new `fileId` will need to be requested.", tags = {"clients", "servers"})
    @ApiResponses(value = {
            @ApiResponse(responseCode = "200", description = "successful operation")})
    @GetMapping(value = "/gen/download/{fileId}",
            produces = {"application/octet-stream"})
    default ResponseEntity<Resource> downloadFile(@Parameter(description = "", required = true) @PathVariable String fileId) {
        return getDelegate().downloadFile(fileId);
    }


    @Operation(summary = "Generates a client library", operationId = "generateClient", description = "Accepts a `GeneratorInput` options map for spec location and generation options", tags = {"clients"})
    @ApiResponses(value = {
            @ApiResponse(responseCode = "200", description = "successful operation")})
    @PostMapping(value = "/gen/clients/{language}", consumes = "application/json", produces = "application/json")
    default ResponseEntity<ResponseCode> generateClient(
            @Parameter(description = "The target language for the client library", required = true, example = "java") 
            @PathVariable String language, 
            @RequestBody(description = "Configuration for building the client library", required = true,
                    content = @Content(mediaType = "application/json",
                            schema = @Schema(implementation = GeneratorInput.class),
                            examples = {
                                    @ExampleObject(name = "Basic Example", 
                                            summary = "Basic client generation with OpenAPI URL",
                                            value = "{\"openAPIUrl\": \"https://raw.githubusercontent.com/OpenAPITools/openapi-generator/master/modules/openapi-generator/src/test/resources/3_0/petstore.yaml\", \"options\": {\"packageName\": \"com.example.client\", \"clientPackage\": \"com.example.client\"}}"),
                                    @ExampleObject(name = "With Options", 
                                            summary = "Client generation with additional options",
                                            value = "{\"openAPIUrl\": \"https://raw.githubusercontent.com/OpenAPITools/openapi-generator/master/modules/openapi-generator/src/test/resources/3_0/petstore.yaml\", \"options\": {\"packageName\": \"com.example.petstore\", \"clientPackage\": \"com.example.petstore.client\", \"groupId\": \"com.example\", \"artifactId\": \"petstore-client\", \"artifactVersion\": \"1.0.0\"}}")
                            }))
            @Valid GeneratorInput generatorInput) {
        return getDelegate().generateClient(language, generatorInput);
    }


    @Operation(summary = "Generates a server library", operationId = "generateServerForLanguage", description = "Accepts a `GeneratorInput` options map for spec location and generation options.", tags = {"servers"})
    @ApiResponses(value = {
            @ApiResponse(responseCode = "200", description = "successful operation")})
    @PostMapping(value = "/gen/servers/{framework}", consumes = "application/json", produces = "application/json")
    default ResponseEntity<ResponseCode> generateServerForLanguage(
            @Parameter(description = "The target server framework", required = true, example = "spring") 
            @PathVariable String framework, 
            @RequestBody(description = "Configuration for building the server library", required = true,
                    content = @Content(mediaType = "application/json",
                            schema = @Schema(implementation = GeneratorInput.class),
                            examples = {
                                    @ExampleObject(name = "Basic Example", 
                                            summary = "Basic server generation with OpenAPI URL",
                                            value = "{\"openAPIUrl\": \"https://raw.githubusercontent.com/OpenAPITools/openapi-generator/master/modules/openapi-generator/src/test/resources/3_0/petstore.yaml\", \"options\": {\"packageName\": \"com.example.server\", \"basePackage\": \"com.example.server\"}}"),
                                    @ExampleObject(name = "Spring Boot Server", 
                                            summary = "Spring Boot server generation with options",
                                            value = "{\"openAPIUrl\": \"https://raw.githubusercontent.com/OpenAPITools/openapi-generator/master/modules/openapi-generator/src/test/resources/3_0/petstore.yaml\", \"options\": {\"packageName\": \"com.example.petstore.server\", \"basePackage\": \"com.example.petstore\", \"groupId\": \"com.example\", \"artifactId\": \"petstore-server\", \"artifactVersion\": \"1.0.0\"}}")
                            }))
            @Valid GeneratorInput generatorInput) {
        return getDelegate().generateServerForLanguage(framework, generatorInput);
    }


    @Operation(summary = "Returns options for a client library", operationId = "getClientOptions", tags = {"clients"})
    @ApiResponses(value = {
            @ApiResponse(responseCode = "200", description = "successful operation")})
    @GetMapping(value = "/gen/clients/{language}",
            produces = {"application/json"})
    default ResponseEntity<Map<String, CliOption>> getClientOptions(@Parameter(description = "The target language for the client library", required = true) @PathVariable String language) {
        return getDelegate().getClientOptions(language);
    }


    @Operation(summary = "Returns options for a server framework", operationId = "getServerOptions", tags = {"servers"})
    @ApiResponses(value = {
            @ApiResponse(responseCode = "200", description = "successful operation")})
    @GetMapping(value = "/gen/servers/{framework}",
            produces = {"application/json"})
    default ResponseEntity<Map<String, CliOption>> getServerOptions(@Parameter(description = "The target language for the server framework", required = true) @PathVariable String framework) {
        return getDelegate().getServerOptions(framework);
    }


    @Operation(summary = "Gets languages supported by the server generator", operationId = "serverOptions", tags = {"servers"})
    @ApiResponses(value = {
            @ApiResponse(responseCode = "200", description = "successful operation")})
    @GetMapping("/gen/servers")
    default ResponseEntity<List<String>> serverOptions() {
        return getDelegate().serverOptions();
    }

}
